<!DOCTYPE html>
<html  lang="en">
<head>
    <meta charset="utf-8" />

<meta name="generator" content="Hexo 4.2.0" />

<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />

<title>Tag: pytorch - Wdnmd</title>


    <meta name="description" content="哈尔滨工业大学仪器学院本科生">
<meta property="og:type" content="website">
<meta property="og:title" content="Wdnmd">
<meta property="og:url" content="https://hit-zyc.github.io/tags/pytorch/index.html">
<meta property="og:site_name" content="Wdnmd">
<meta property="og:description" content="哈尔滨工业大学仪器学院本科生">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://hit-zyc.github.io/images/og_image.png">
<meta property="article:author" content="张砚驰">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://hit-zyc.github.io/images/og_image.png">







<link rel="icon" href="/images/favicon.svg">


<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bulma@0.7.2/css/bulma.css">
<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.4.1/css/all.css">
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Ubuntu:400,600|Source+Code+Pro">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/highlight.js@9.12.0/styles/atom-one-light.css">


    
    
<style>body>.footer,body>.navbar,body>.section{opacity:0}</style>

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/css/lightgallery.min.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/css/justifiedGallery.min.css">

    
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.css">

    
    
    
    
<link rel="stylesheet" href="/css/back-to-top.css">

    
    
    
    
    
    
    
    <link rel="stylesheet" href="/css/progressbar.css">
<script src="https://cdn.jsdelivr.net/npm/pace-js@1.0.2/pace.min.js"></script>
    
    <script async="" src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    


<link rel="stylesheet" href="/css/style.css">
</head>
<body class="is-3-column">
    <nav class="navbar navbar-main">
    <div class="container">
        <div class="navbar-brand is-flex-center">
            <a class="navbar-item navbar-logo" href="/">
            
                <img src="/images/logo.svg" alt="Wdnmd" height="28">
            
            </a>
        </div>
        <div class="navbar-menu">
            
            <div class="navbar-start">
                
                <a class="navbar-item"
                href="/">Home</a>
                
                <a class="navbar-item"
                href="/archives">Archives</a>
                
                <a class="navbar-item"
                href="/categories">Categories</a>
                
                <a class="navbar-item"
                href="/tags">Tags</a>
                
                <a class="navbar-item"
                href="/about">About</a>
                
            </div>
            
            <div class="navbar-end">
                
                    
                    <a class="navbar-item" target="_blank" rel="noopener" title="ZYC&#39;s Github" href="https://github.com/hit-zyc">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                    
                
                
                
                <a class="navbar-item search" title="Search" href="javascript:;">
                    <i class="fas fa-search"></i>
                </a>
                
            </div>
        </div>
    </div>
</nav>
    
    <section class="section">
        <div class="container">
            <div class="columns">
                <div class="column is-8-tablet is-8-desktop is-6-widescreen has-order-2 column-main"><div class="card">
    <div class="card-content">
        <nav class="breadcrumb" aria-label="breadcrumbs">
        <ul>
            <li><a href="/tags">Tags</a></li>
            <li class="is-active"><a href="#" aria-current="page">pytorch</a></li>
        </ul>
        </nav>
    </div>
</div>

    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-09T15:29:59.000Z">2020-04-09</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    a minute read (About 127 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/09/pytorch%E6%B7%B1%E5%85%A5%E6%8E%A2%E7%B4%A2%E7%BB%AD%E7%AF%87/">pytorch深入探索续篇</a>
            
        </h1>
        <div class="content">
            <font face='Times New Roman'>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>&emsp;&emsp;由于前一段时间在搞定位算法，暂时没有时间来学习、记录pytorch的学习过程。在这里就先提及需要详细解释的一些部分</p>
<ul>
<li>优化器<code>optimizer</code>的种类、各自的优势，以及我应该如何选取</li>
<li>正则化、过拟合、<code>batch normalization</code>的解释和应用</li>
<li>学习更多的深度学习算法来更好的应用在实际例子中</li>
<li>更多pytorch例程的研究记录</li>
</ul>
</font>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-08T11:06:49.000Z">2020-04-08</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    23 minutes read (About 3388 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/08/pytorch%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3/">pytorch深入了解</a>
            
        </h1>
        <div class="content">
            <font face='Times New Roman'>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>&emsp;&emsp;经过这几天的零碎学习，我真是觉得神经网络的搭建真的太复杂了，复杂到什么程度呢？就是一个概念不懂，找到解释后，发现解释里又包含着好几个你根本不知道的概念，不过还好我做了一些学习准备，也不算是完全没有头绪。但是目前暴露的缺陷有：</p>
<ul>
<li>python高级语法知识的欠缺</li>
<li>pytorch搭建神经网络的细节问题不懂</li>
<li>对于神经网络的每一个相关细节概念的理解和了解不足</li>
</ul>
<p>&emsp;&emsp;那么针对这些，我认为可以在学习一些实例、教程时碎片化的学习来完善自己的知识框架，所以有了以下的“深入了解”学习阶段</p>
<h1 id="学习阶段————深入了解"><a href="#学习阶段————深入了解" class="headerlink" title="学习阶段————深入了解"></a>学习阶段————深入了解</h1><p>思考：</p>
<ul>
<li>神经网络的框架如何根据自己的要求、向适合解决问题的网络结构改进？</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>学习如何使用GPU来训练模型？</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>jupyter notebook 中如何正常运行pytorch网络？</li>
</ul>
<blockquote>
</blockquote>
<hr>
<h2 id="二、结合实例理解，弥补缺失的框架体系知识"><a href="#二、结合实例理解，弥补缺失的框架体系知识" class="headerlink" title="二、结合实例理解，弥补缺失的框架体系知识"></a>二、结合实例理解，弥补缺失的框架体系知识</h2><h3 id="1-读取文件必要的Dataset与DataLoader？"><a href="#1-读取文件必要的Dataset与DataLoader？" class="headerlink" title="1. 读取文件必要的Dataset与DataLoader？"></a>1. 读取文件必要的<code>Dataset</code>与<code>DataLoader</code>？</h3><ul>
<li>&emsp;&emsp;获取数据一直应该都是神经网络的一个要点。有些时候可以通过某些官方渠道的统一数据集来进行训练。但对于实际的项目，往往无法这样做，那么对于这一次我的大作业也就是获取图像信息来说，每一张图像的数据不一样，尺寸也都不一样，如何把这些杂乱的数据统一的放入神经网络中学习呢？在这里<code>Dataset</code>与<code>DataLoader</code>就起到了必要的作用</li>
</ul>
<ul>
<li><code>Dataset</code>与<code>DataLoader</code>分别对应数据的读取和操作，他们是官网提供给我们处理数据的一个范例。</li>
</ul>
<hr>
<h4 id="Dataset"><a href="#Dataset" class="headerlink" title="Dataset"></a><strong><code>Dataset</code></strong></h4><ul>
<li><code>Dataset</code>位于<code>torch.utils.data.Dataset</code>中，往往我们需要创建自己的获取数据集的<code>Mydataset</code>类，他必须继承官方的<code>Dataset</code>类，并且必须要实现其两个成员函数：<code>__len__()</code>、<code>__getitem__()</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> cv2</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> Dataset</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">datasets</span><span class="params">(Dataset)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,data,transform = None,test = False)</span>:</span></span><br><span class="line">        imgs = []</span><br><span class="line">        labels = []</span><br><span class="line">        self.test = test</span><br><span class="line">        self.len = len(data)</span><br><span class="line">        self.data = data</span><br><span class="line">        self.transform = transform</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> self.data:</span><br><span class="line">            imgs.append(i[<span class="number">0</span>])</span><br><span class="line">            self.imgs = imgs</span><br><span class="line">            labels.append(int(i[<span class="number">1</span>]) ) <span class="comment">#pytorch中交叉熵需要从0开始</span></span><br><span class="line">            self.labels  = labels</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span><span class="params">(self,index)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.test:</span><br><span class="line">            filename = self.imgs[index]</span><br><span class="line">            filename = filename</span><br><span class="line">            img_path = self.imgs[index]</span><br><span class="line">            img = cv2.imread(img_path)</span><br><span class="line">            img = cv2.cvtColor(img, cv2.COLOR_BGR2RGB)</span><br><span class="line">            img = cv2.resize(img, (config.img_width, config.img_height))</span><br><span class="line">            img = transforms.ToTensor()(img)</span><br><span class="line">            <span class="keyword">return</span> img,filename</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            img_path = self.imgs[index]</span><br><span class="line">            label = self.labels[index]</span><br><span class="line">            <span class="comment">#label = int(label)</span></span><br><span class="line">            img = cv2.imread(img_path)</span><br><span class="line">            img = cv2.cvtColor(img,cv2.COLOR_BGR2RGB)</span><br><span class="line">            img = cv2.resize(img,(config.img_width,config.img_height))</span><br><span class="line">            <span class="comment"># img = transforms.ToTensor()(img)</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> self.transform <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">                img = Image.fromarray(img)</span><br><span class="line">                img = self.transform(img)</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                img = transforms.ToTensor()(img)</span><br><span class="line">            <span class="keyword">return</span> img,label</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__len__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> len(self.data)<span class="comment">#self.len</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在这个实例中，在初始化时需要的参数是，需要训练或者测试的数据，<code>transform</code>操作（这个具体在后面说明），至于后面的<code>test</code>参数也和transform有关</li>
</ul>
<ul>
<li><p>重点看类里内置的方法</p>
<ul>
<li><p><code>__getitem__(self,index)</code>:该方法支持从 0 到<code>len(self)</code>的索引<br>&emsp;&emsp;在我们自己的Dataset中必须需要一个这个方法获取数据集中的每一组数据。比如在此例中，由于在建立dataset实例时出入的<code>data</code>数据是所有的<code>.jpg</code>文件，那么当我们需要获取图片进行训练或测试时，需要利用opencv的方法读取图片数据、将图片转换成RGB格式，把每个图片的尺寸统一为设定的模板尺寸，最后将图片信息数据转换为<code>tensor</code>张量形式</p>
</li>
<li><p><code>__len__(self)</code><br>&emsp;&emsp;这个方法比较简单，用起来也很方便。目的就是，返回数据集的长度。但这个方法必须有。</p>
</li>
</ul>
</li>
</ul>
<ul>
<li>现存问题：在初始化时，类里面的一些赋值操作，是否存在必要性。当然，数据必须保存在数据集中，所以一个循环读取全部数据内容的操作应该要有。所以我猜测是自己如果需要用到就加，如果不会用到就不需要写在初始化方法中。 </li>
</ul>
<hr>
<h4 id="DataLoader"><a href="#DataLoader" class="headerlink" title="DataLoader"></a><strong><code>DataLoader</code></strong></h4><ul>
<li><code>torch.utils.data</code>已经提供的类：<code>Dataset</code>，但是通过这种方式只能一个个的数据的把数据全部读出来，定义了数据读取的方式，不能实现<strong>批量</strong>的把数据读取出来，为此pytorch有提供了一个方法：<code>DataLoader()</code><br>&emsp;&emsp;简单点说，就是通过<code>DataLoader</code>将<code>Dataset</code>中的数据集以每次<code>Batch_size</code>个大小的组，读取出来，以供训练</li>
</ul>
<ul>
<li><code>Dataloader</code>本质是一个可迭代对象，使用<code>iter()</code>访问，不能使用<code>next()</code>访问，由于它本身就是一个可迭代对象，可以使用<code>for inputs, labels in dataloaders</code>进行可迭代对象的访问</li>
</ul>
<ul>
<li>我们一般不需要再自己去实现<code>DataLoader</code>的方法了，只需要在构造函数中指定相应的参数即可，比如常见的<code>batch_size</code>，<code>shuffle</code>等等参数。所以使用DataLoader十分简洁方便。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#自己定义的函数：获取数据并将数据分为训练集和测试集两类</span></span><br><span class="line">test_list , train_list = get_files(config.data_folder,config.ratio)</span><br><span class="line"></span><br><span class="line"><span class="comment">#训练集 需要数据增强 transform 使用之前定义好的</span></span><br><span class="line">input_traindata = datasets(train_list,transform = transform)  </span><br><span class="line">train_loader = DataLoader(input_traindata,batch_size = config.batch_size,shuffle = <span class="literal">True</span>,collate_fn = collate_fn ,pin_memory = <span class="literal">False</span>,num_workers = <span class="number">4</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment">#测试集 不要数据增强 transform = None</span></span><br><span class="line">input_testdata = datasets(test_list,transform = <span class="literal">None</span>)</span><br><span class="line">test_loader = DataLoader(input_testdata,batch_size = config.batch_size,shuffle = <span class="literal">False</span>,collate_fn = collate_fn,num_workers = <span class="number">4</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>上述例子可以看到，根据自己定义的<code>dataset</code>创建了训练和测试两个实例，训练需要<strong>数据增强</strong>而测试不需要，所以两个实例除数据不同，<code>tranform</code>也不同</li>
<li><code>DataLoader</code>的参数<ul>
<li><code>X_dataset</code>：数据集的实例</li>
<li><code>batch_size</code>：训练的提取数据的单位内所含个数</li>
<li><code>shuffle</code> ：布尔值True或者是False ，表示每一个epoch之后是否对样本进行随机打乱，默认是False</li>
<li><code>collate_fn</code>：这个是一个问题，因为通常由自己确定。是一个自己对于数据选取的方法，但是我不知道他有什么意义，或者优势</li>
<li><code>pin_memory</code>：如果设置为True，那么data loader将会在返回它们之前，将tensors拷贝到CUDA中的固定内存（CUDA pinned memory）中</li>
<li><code>num_workers</code>：这个参数决定了有几个进程来处理data loading。0意味着所有的数据都会被load进主进程。（默认为0）</li>
</ul>
</li>
</ul>
<hr>
<h3 id="1-2-典型的批训练"><a href="#1-2-典型的批训练" class="headerlink" title="1.2 典型的批训练"></a>1.2 典型的批训练</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.utils.data <span class="keyword">as</span> Data</span><br><span class="line"></span><br><span class="line">torch.manual_seed(<span class="number">1</span>)    <span class="comment"># reproducible</span></span><br><span class="line"></span><br><span class="line">BATCH_SIZE = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">x = torch.linspace(<span class="number">1</span>, <span class="number">10</span>, <span class="number">10</span>)       <span class="comment"># this is x data (torch tensor)</span></span><br><span class="line">y = torch.linspace(<span class="number">10</span>, <span class="number">1</span>, <span class="number">10</span>)       <span class="comment"># this is y data (torch tensor)</span></span><br><span class="line"></span><br><span class="line">torch_dataset = Data.TensorDataset(x, y)</span><br><span class="line">loader = Data.DataLoader(</span><br><span class="line">    dataset=torch_dataset,      <span class="comment"># torch TensorDataset format</span></span><br><span class="line">    batch_size=BATCH_SIZE,      <span class="comment"># mini batch size</span></span><br><span class="line">    shuffle=<span class="literal">True</span>,               <span class="comment"># random shuffle for training</span></span><br><span class="line">    num_workers=<span class="number">2</span>,              <span class="comment"># subprocesses for loading data</span></span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">show_batch</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="keyword">for</span> epoch <span class="keyword">in</span> range(<span class="number">3</span>):   <span class="comment"># train entire dataset 3 times</span></span><br><span class="line">        <span class="keyword">for</span> step, (batch_x, batch_y) <span class="keyword">in</span> enumerate(loader):  <span class="comment"># for each training step</span></span><br><span class="line">            <span class="comment"># train your data...</span></span><br><span class="line"></span><br><span class="line">            print(<span class="string">'Epoch: '</span>, epoch, <span class="string">'| Step: '</span>, step, <span class="string">'| batch x: '</span>,</span><br><span class="line">                  batch_x.numpy(), <span class="string">'| batch y: '</span>, batch_y.numpy())</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    show_batch()</span><br></pre></td></tr></table></figure>
<ul>
<li>不难发现，其实批训练的实现就是对<code>Dataset</code>与<code>DataLoader</code>的使用，这里很简单，只是看一个思路。</li>
<li>那么其实每一次训练的时候，对于loader实例的索引，他将带出一组<code>Batch_size</code>个数的数据，但是你的神经网络的输入层的结构不会因为<code>batch_size</code>的变化受到影响</li>
<li>批训练中<code>batch_size</code>对CNN结果的影响，<a href="https://blog.csdn.net/xuaho0907/article/details/88027224">点击这里了解</a></li>
</ul>
<hr>
<h3 id="1-3-collate-fn如何在加载数据时起作用？"><a href="#1-3-collate-fn如何在加载数据时起作用？" class="headerlink" title="1.3 collate_fn如何在加载数据时起作用？"></a>1.3 <code>collate_fn</code>如何在加载数据时起作用？</h3><ul>
<li>DataLoader能够为我们自动生成一个多线程的迭代器，只要传入几个参数进行就可以了,但是你真的懂得它是如何工作的么？</li>
</ul>
<h4 id="问题就在这个collate-fn上"><a href="#问题就在这个collate-fn上" class="headerlink" title="问题就在这个collate_fn上"></a>问题就在这个<code>collate_fn</code>上</h4><ul>
<li><code>collate_fn</code>默认是等于<code>default_collate</code></li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span>    <span class="comment">#这是DataLoader的关于迭代的方法的源码</span></span><br><span class="line">    <span class="keyword">if</span> self.num_workers == <span class="number">0</span>:  <span class="comment"># same-process loading        </span></span><br><span class="line">        indices = next(self.sample_iter)  <span class="comment"># may raise StopIteration        </span></span><br><span class="line">        batch = self.collate_fn([self.dataset[i] <span class="keyword">for</span> i <span class="keyword">in</span> indices])  <span class="comment"># 在这里调用了collate_fn函数，传递的参数是一个列表        </span></span><br><span class="line">        <span class="keyword">if</span> self.pin_memory:            </span><br><span class="line">            batch = pin_memory_batch(batch)        </span><br><span class="line">        <span class="keyword">return</span> batch</span><br></pre></td></tr></table></figure>
<ul>
<li>那么其实<code>collate_fn</code>这个函数的输入就是一个list，list的长度是一个<code>batch size</code>，list中的每个元素都是<code>__getitem__</code>得到的结果，想要知道详解<a href="https://blog.csdn.net/qq_27825451/article/details/96130126">点击这里</a>，那么<code>batch</code>中的每一个元素其实就是<code>Dataset</code>中<code>__getitem__</code>方法得到的比如（图片信息img、标签label）</li>
</ul>
<ul>
<li><p>那么如果理解了以上的意思，再看<code>collate_fn</code>就能较快地上手了</p>
</li>
<li><p>那什么时候该使用DataLoader的<code>collate_fn</code>这个参数？<br>  &emsp;&emsp;当定义<code>DataSet</code>类中的<code>__getitem__</code>函数的时候，由于每次返回的是一组类似于<code>（x,y）</code>的样本，但是如果在返回的每一组样本x,y中出现什么错误，或者是还需要进一步对x,y进行一些处理的时候，我们就需要再定义一个<code>collate_fn</code>函数来实现这些功能。当然我也可以自己在实现<code>__getitem__</code>的时候就实现这些后处理也是可以的。</p>
</li>
<li><p><code>collate_fn</code>，中单词<code>collate</code>的含义是：核对，校勘，对照，整理。顾名思义，这就是一个对每一组样本数据进行一遍“核对和重新整理”，现在可能更好理解一些</p>
</li>
</ul>
<hr>
<h3 id="2-1-torchvision是什么？"><a href="#2-1-torchvision是什么？" class="headerlink" title="2.1 torchvision是什么？"></a>2.1 <code>torchvision</code>是什么？</h3><ul>
<li><code>torchvision</code>是PyTorch中专门用来处理图像的库，PyTorch官网的安装教程，也会让你安装上这个包。</li>
<li>这个包中有四个大类<ul>
<li><code>torchvision.datasets</code></li>
<li><code>torchvision.models</code></li>
<li><code>torchvision.transforms</code></li>
<li><code>torchvision.utils</code></li>
</ul>
</li>
</ul>
<h4 id="torchvision-datasets"><a href="#torchvision-datasets" class="headerlink" title="torchvision.datasets"></a><code>torchvision.datasets</code></h4><ul>
<li><p><code>torchvision.datasets</code> 是用来进行数据加载的，PyTorch团队在这个包中帮我们提前处理好了很多很多图片数据集。</p>
<ul>
<li><code>MNISTCOCO</code></li>
<li><code>Captions</code></li>
<li><code>Detection</code></li>
<li><code>LSUN</code></li>
<li><code>ImageFolder</code></li>
<li><code>Imagenet-12</code></li>
<li><code>CIFAR</code></li>
<li><code>STL10</code></li>
<li><code>SVHN</code></li>
<li><code>PhotoTour</code></li>
</ul>
</li>
<li><p>我们可以直接使用，示例如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"></span><br><span class="line">trainset = torchvison.datasets.MNIST(</span><br><span class="line">        root = <span class="string">'./data'</span>, <span class="comment">#表示MNIST数据的加载的相对目录</span></span><br><span class="line">        train = <span class="literal">True</span>, <span class="comment">#表示是否加载数据库的训练集，false的时候加载测试集</span></span><br><span class="line">        download = <span class="literal">True</span>， <span class="comment">#表示是否自动下载MNIST数据集</span></span><br><span class="line">        transform = <span class="literal">None</span> <span class="comment">#表示是否需要对数据进行预处理，None为不进行预处理</span></span><br><span class="line">)</span><br><span class="line"><span class="comment"># 上面代码完成了MNIST数据 训练集的加载环节</span></span><br><span class="line">train_loader2 = Dateloader(</span><br><span class="line">    dataset = trainset,</span><br><span class="line">    batch_size = <span class="number">32</span>,</span><br><span class="line">    shuffle = <span class="literal">True</span></span><br><span class="line">)</span><br><span class="line">print(<span class="string">"训练集总长度为："</span>,len(trainset))</span><br><span class="line">print(<span class="string">"每个mini-batch的size为32，一共有："</span>,len(train_loader2),<span class="string">"个"</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="torchvision-models"><a href="#torchvision-models" class="headerlink" title="torchvision.models"></a><code>torchvision.models</code></h4><ul>
<li><p><code>torchvision.models</code>中为我们提供了已经训练好的模型，让我们可以加载之后，直接使用</p>
</li>
<li><p><code>torchvision.models</code>模块的子模块中包含以下模型结构。</p>
<ul>
<li><code>AlexNet</code></li>
<li><code>VGG</code></li>
<li><code>ResNet</code></li>
<li><code>SqueezeNet</code></li>
<li><code>DenseNet</code></li>
</ul>
</li>
<li><p>我们可以直接使用如下代码来快速创建一个权重随机初始化的模型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision.models <span class="keyword">as</span> models</span><br><span class="line"></span><br><span class="line">resnet18 = models.resnet18()</span><br><span class="line">alexnet = models.alexnet()</span><br><span class="line">squeezenet = models.squeezenet1_0()</span><br><span class="line">densenet = models.densenet_161()</span><br></pre></td></tr></table></figure></li>
<li><p>也可以通过使用<code>pretrained=True</code>来加载一个别人预训练好的模型</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torchvision.models <span class="keyword">as</span> models</span><br><span class="line"></span><br><span class="line">resnet18 = models.resnet18(pretrained=<span class="literal">True</span>)</span><br><span class="line">alexnet = models.alexnet(pretrained=<span class="literal">True</span>)</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h4 id="torchvision-transforms"><a href="#torchvision-transforms" class="headerlink" title="torchvision.transforms"></a><code>torchvision.transforms</code></h4><ul>
<li><p><code>transforms</code>提供了一般的图像转换操作类，这就是我在一开始<code>Dataset</code>中提到了<code>transform</code>，还记得么？哈哈，可以翻一翻上面的例程中在创建<code>Mydataset</code>类的<code>getitem</code>方法中是如何使用transforms的</p>
</li>
<li><p>其实我猜测例程中，作者想在获取每一个图像信息时，除了进行<code>opencv</code>的操作外，训练时还要对图像数据信息做更多处理，而测试时当然就不需要这种处理</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 我们这里还是对MNIST进行处理，初始的MNIST是 28 * 28，我们把它处理成 96 * 96 的torch.Tensor的格式</span></span><br><span class="line"><span class="keyword">from</span> torchvision <span class="keyword">import</span> transforms <span class="keyword">as</span> transforms</span><br><span class="line"><span class="keyword">import</span> torchvision</span><br><span class="line"><span class="keyword">from</span> torch.utils.data <span class="keyword">import</span> DataLoader</span><br><span class="line"></span><br><span class="line"><span class="comment"># 图像预处理步骤</span></span><br><span class="line">transform = transforms.Compose([</span><br><span class="line">    transforms.Resize(<span class="number">96</span>), <span class="comment"># 缩放到 96 * 96 大小</span></span><br><span class="line">    transforms.ToTensor(),</span><br><span class="line">    transforms.Normalize((<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>), (<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>)) <span class="comment"># 归一化</span></span><br><span class="line">])</span><br><span class="line"></span><br><span class="line">DOWNLOAD = <span class="literal">True</span></span><br><span class="line">BATCH_SIZE = <span class="number">32</span></span><br><span class="line"></span><br><span class="line">train_dataset = torchvision.datasets.MNIST(root=<span class="string">'./data/'</span>, train=<span class="literal">True</span>, transform=transform, download=DOWNLOAD)</span><br><span class="line">train_loader = DataLoader(dataset=train_dataset,</span><br><span class="line">                          batch_size=BATCH_SIZE,</span><br><span class="line">                          shuffle=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">print(len(train_dataset))</span><br><span class="line">print(len(train_loader))</span><br></pre></td></tr></table></figure>

<ul>
<li>例程中是将从<code>torchvision.datasets</code>中获取的图像数据做transform，这样更简单，那如何在自己定义的Dataset类中加入Transform呢？<ul>
<li>第一步：定义自己的<code>DataSet</code>，并重写<code>__getitem__</code>，在里面实现关键的<code>transform</code>操作</li>
<li>第二步：将多个数据增强方式组合起来合成一个<code>transforms</code>，通过<code>Compose</code>类来实现，注意这个类的返回值哦！</li>
<li>第三步：构造<code>DataSet</code>的对象，将组合起来的<code>transform</code>传递进去，这样就会对每一个<code>batch_size</code>的图像都进行相关的数据增强操作了</li>
</ul>
</li>
<li>细节问题在于，我没太搞懂这种的数据类型的转换，一会是图片类型，一会是<code>numpy</code>矩阵类型，最后又要转换成<code>tensor</code>张量类型，这个要之后细究</li>
</ul>
<hr>
<h3 id="3-1-什么是Resnet？"><a href="#3-1-什么是Resnet？" class="headerlink" title="3.1 什么是Resnet？"></a>3.1 什么是<code>Resnet</code>？</h3><p>👴也不知道，👴正在学</p>
</font>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-07T05:46:09.000Z">2020-04-07</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    4 minutes read (About 637 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/07/pytorch%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/">pytorch使用说明</a>
            
        </h1>
        <div class="content">
            <font face='Times New Roman'>

<h4 id="torch-normal-means-std-out-None"><a href="#torch-normal-means-std-out-None" class="headerlink" title="torch.normal(means, std, out=None)"></a><code>torch.normal(means, std, out=None)</code></h4><ul>
<li>返回满足正态分布的张量</li>
<li><code>means</code>和<code>std</code>分别给出均值和标准差</li>
</ul>
<hr>
<h4 id="torch-rand-sizes-out-None-→-Tensor"><a href="#torch-rand-sizes-out-None-→-Tensor" class="headerlink" title="torch.rand(*sizes, out=None) → Tensor"></a><code>torch.rand(*sizes, out=None) → Tensor</code></h4><ul>
<li><strong>均匀分布</strong>：返回一个张量，包含了从区间[0, 1)的均匀分布中抽取的一组随机数。张量的形状由参数sizes定义</li>
</ul>
<hr>
<h4 id="torch-randn-sizes-out-None-→-Tensor"><a href="#torch-randn-sizes-out-None-→-Tensor" class="headerlink" title="torch.randn(*sizes, out=None) → Tensor"></a><code>torch.randn(*sizes, out=None) → Tensor</code></h4><ul>
<li><strong>标准正态分布</strong>：返回一个张量，包含了从标准正态分布（均值为0，方差为1，即高斯白噪声）中抽取的一组随机数。张量的形状由参数sizes定义</li>
</ul>
<hr>
<h4 id="torch-squeeze-a-N"><a href="#torch-squeeze-a-N" class="headerlink" title="torch.squeeze(a,N)"></a><code>torch.squeeze(a,N)</code></h4><ul>
<li>对数据的维度进行压缩，去掉指定个维数为1的维度，注意：如果不加第二个参数’N’，就是去掉<strong>所有</strong>维数为1的维度</li>
<li>另一种形式，<code>a.squeeze(N)</code> 也是去掉a中指定的维数为一的维度，去掉的维度数为N</li>
</ul>
<hr>
<h4 id="torch-unsqueeze"><a href="#torch-unsqueeze" class="headerlink" title="torch.unsqueeze()"></a><code>torch.unsqueeze()</code></h4><ul>
<li>对数据维度进行扩充。给指定位置加上维数为1的维度,同样有另外一种形式<code>a.squeeze(N)</code></li>
<li><strong>注意！</strong>当对神经网络的输入层的特征数据提前处理时，可能需要使用该函数，因为输入数据必须是一个至少二维的张量</li>
</ul>
<hr>
<blockquote>
<p>可以关注一下python自带的<code>numpy</code>数字计算库和<code>torch</code>的数据处理，其实相似度很高</p>
</blockquote>
<hr>
<h4 id="torch-cat-A-B-0"><a href="#torch-cat-A-B-0" class="headerlink" title="torch.cat((A,B),0)"></a><code>torch.cat((A,B),0)</code></h4><ul>
<li>将两个张量（tensor）拼接在一起，第一个参数是两个张量组成的元组，第二个参数是行拼接(1)或者列拼接(0)</li>
<li><a href="https://blog.csdn.net/qq_39709535/article/details/80803003">实例</a></li>
</ul>
<h4 id="np-hstack-A-B-C-amp-np-vstack-A-B-C"><a href="#np-hstack-A-B-C-amp-np-vstack-A-B-C" class="headerlink" title="np.hstack((A,B,C..)) &amp; np.vstack((A,B,C..))"></a><code>np.hstack((A,B,C..))</code> &amp; <code>np.vstack((A,B,C..))</code></h4><ul>
<li>将参数元组的元素数组按<strong>水平/垂直</strong>方向进行叠加，可以和上面的torch.cat比较一下</li>
</ul>
<h4 id="torch-stack-tensor1-tensor2-tensor3…-dim-0"><a href="#torch-stack-tensor1-tensor2-tensor3…-dim-0" class="headerlink" title="torch.stack([tensor1, tensor2, tensor3…], dim=0)"></a><code>torch.stack([tensor1, tensor2, tensor3…], dim=0)</code></h4><ul>
<li>将几个矩阵按照dim指定维度堆叠在一起</li>
<li><a href="https://blog.csdn.net/orangerfun/article/details/103931343">实例</a></li>
</ul>
<hr>
<h4 id="np-random-shuffle-x"><a href="#np-random-shuffle-x" class="headerlink" title="np.random.shuffle(x)"></a><code>np.random.shuffle(x)</code></h4><ul>
<li>现场修改序列，改变自身内容。（类似洗牌，打乱顺序）</li>
<li>对多维数组进行打乱排列时，默认是对第一个维度也就是<strong>列维度进行随机打乱</strong></li>
</ul>
<hr>
<h4 id="np-transpose-x"><a href="#np-transpose-x" class="headerlink" title="np.transpose(x)"></a><code>np.transpose(x)</code></h4><ul>
<li>常用于二维数组的<strong>转置</strong></li>
</ul>
<hr>
<h4 id="torch-div-input-value-out-None"><a href="#torch-div-input-value-out-None" class="headerlink" title="torch.div(input, value, out=None)"></a><code>torch.div(input, value, out=None)</code></h4><ul>
<li>将input逐元素除以标量值value，并返回结果到输出张量out。</li>
</ul>
<hr>
<h4 id="plt-scatter-x-y-c-39-r-39-s-20-marker-quot-quot-lw-2"><a href="#plt-scatter-x-y-c-39-r-39-s-20-marker-quot-quot-lw-2" class="headerlink" title="plt.scatter(x,y,c=&#39;r&#39;,s=20,marker=&quot;.&quot;,lw=2)"></a><code>plt.scatter(x,y,c=&#39;r&#39;,s=20,marker=&quot;.&quot;,lw=2)</code></h4><ul>
<li><code>matplotlib</code>库中画散点图的函数，注意<code>c</code>这个参数的特别用法</li>
<li><a href="https://blog.csdn.net/qiu931110/article/details/68130199/">详解</a></li>
</ul>
</font>
        </div>
        
        
        
    </div>
</div>








    
<div class="card">
    
    <div class="card-content article ">
        
        <div class="level article-meta is-size-7 is-uppercase is-mobile is-overflow-x-auto">
            <div class="level-left">
                <time class="level-item has-text-grey" datetime="2020-04-03T06:19:15.000Z">2020-04-03</time>
                
                <div class="level-item">
                <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                </div>
                
                
                <span class="level-item has-text-grey">
                    
                    
                    15 minutes read (About 2279 words)
                </span>
                
                
            </div>
        </div>
        
        <h1 class="title is-size-3 is-size-4-mobile has-text-weight-normal">
            
                <a class="has-link-black-ter" href="/2020/04/03/pytorch%E5%88%9D%E8%AF%86/">pytorch、jupyter初识</a>
            
        </h1>
        <div class="content">
            <font face='Times New Roman'>

<h1 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h1><p>&emsp;&emsp;如何逐渐掌握深度学习呢，是一个难题，网上参差不齐没有一个非常好非常全面的教程，只能一点一点自己累计，寻找例程来模仿主要理解他是怎么一步步完成任务的、思考一个普遍性的解决问题的过程，如何搭建深度学习的神经网络框架，现在暂时选择<code>pytorch</code>。<br>&emsp;&emsp;然后，目前推荐搭建框架过程使用<code>jupyter notebook</code>，所以也要学习如何使用它，那么我想在每一阶段都解决和思考一些问题记录下来，来一步步稳扎稳打的学习深度学习</p>
<h3 id="个人思路"><a href="#个人思路" class="headerlink" title="个人思路"></a>个人思路</h3><p>&emsp;&emsp;其实，深度学习说难不难，说简单肯定不简单，你真的可以甚至1天快速入门、上手，只要你懂一些python语法，稍微看看比较通俗的神经网络的介绍文章，学一种搭建框架的方式就能让你用上你设计的网络结构，大批量的规则化的图像信息甚至也可以从网上获取，然后非常方便的使用、训练、测试。<br>&emsp;&emsp;但是你想真正用神经网络来解决问题你自己的实际问题，那么这些将远远不够，至少我是这样认为的，所以我寻找了很多比较有顺序的深度学习教程（pytorch的），都需要一篇篇的仔细阅读，深化概念，让之后的进阶操作能更快理解。</p>
<hr>
<h1 id="学习阶段————初次接触"><a href="#学习阶段————初次接触" class="headerlink" title="学习阶段————初次接触"></a>学习阶段————初次接触</h1><p>思考：</p>
<ul>
<li>如何将一大批尺寸不一、随机的图像统一标准化的作为深度学习的输入、以及同时集合这些输入的label–对应的解，即真实值（来和输出层的计算值比较损失）？</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>神经网络的框架如何根据自己的要求、向适合解决问题的网络结构改进？</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>学习如何使用GPU来训练模型？</li>
</ul>
<blockquote>
</blockquote>
<ul>
<li>jupyter notebook 中如何正常运行pytorch网络？</li>
</ul>
<blockquote>
</blockquote>
<hr>
<h2 id="一、在Morvan莫烦的pytorch教程中，再次理解神经网络"><a href="#一、在Morvan莫烦的pytorch教程中，再次理解神经网络" class="headerlink" title="一、在Morvan莫烦的pytorch教程中，再次理解神经网络"></a>一、在Morvan莫烦的pytorch教程中，再次理解神经网络</h2><h3 id="1-1-神经网络是什么"><a href="#1-1-神经网络是什么" class="headerlink" title="1.1 神经网络是什么"></a>1.1 神经网络是什么</h3><ul>
<li>之前虽然理解了一种说法，好像没提出来，这里讲一讲，但不讲太多，没啥意义</li>
<li>首先，人们希望模仿人类的大脑，即生物神经网络，人类如何形成条件反射？如何学习？如何记忆？大脑内神经元如何工作？神经元之间有什么样的联系？</li>
<li>人工神经网络相比，相似，又不相似，所有神经元的连接在同一时间都是固定的，不会凭空产生新联结，它是一种逐次接近正确答案的训练手段，其中“误差反向传递”起到关键作用</li>
</ul>
<h3 id="1-2-神经网络的简单结构概念"><a href="#1-2-神经网络的简单结构概念" class="headerlink" title="1.2 神经网络的简单结构概念"></a>1.2 神经网络的简单结构概念</h3><ul>
<li><code>Gradient Descent</code>：梯度下降&emsp;&emsp;&emsp;&emsp;<code>Cost Function</code>：损失函数</li>
<li><strong>输入层、隐含层（第1层。。。第n层）、输出层</strong>就对应着<strong>特征–&gt;代表特征1–&gt;…–&gt;代表特征n–&gt;输出</strong>，这些代表特征是越来越抽象的，人越来越无法理解，但计算机就对他比较敏感了</li>
<li><strong>迁移学习</strong>：即在当你现有的一般神经网络足够处理比如图片内容种类识别、字符识别的任务后。如果我们在输出层前再加入几层神经网络来训练，就能来完成进阶的任务，比如不仅识别数字，还能知道数字的书写字体。。等等</li>
</ul>
<h3 id="2-1-选择Pytorch"><a href="#2-1-选择Pytorch" class="headerlink" title="2.1 选择Pytorch"></a>2.1 选择<code>Pytorch</code></h3><ul>
<li>好用、使用广泛、新颖、直观、动态建立框架</li>
<li><strong><code>torchvision</code></strong>里已经有一些它搭建好的网络，比如resnet（可以可以，我知道例程是这样用的了），然后你用这个已有的网络来训练自己的任务</li>
</ul>
<blockquote>
<p>将<code>jupyter notebook</code>工作目录更改为自定义，即在属性栏启动目录将<code>userprofile/</code>..双引号内的内容改为自己希望前往的目录地址，重启即可</p>
</blockquote>
<ul>
<li><a href="http://pytorch.org/docs/torch.html#math-operations">pytorch常用函数的详解</a>&emsp;&emsp;&emsp;&emsp;<a href="https://www.bilibili.com/video/BV1Vx411j7kT?p=7">numpy矩阵类型与pytorch中tensor（张量）矩阵转换</a></li>
</ul>
<h3 id="2-2-什么是Variable"><a href="#2-2-什么是Variable" class="headerlink" title="2.2 什么是Variable"></a>2.2 什么是<code>Variable</code></h3><ul>
<li><p>&emsp;&emsp;它在神经网络的训练中是一个关键，为什么这么说？思考一下，神经网络的反向传播算法常用梯度下降法，那其中如何求梯度呢？<br>&emsp;&emsp;大家都知道就是求偏导数，导数就是梯度，torch里求导数的小帮手就是<code>variable</code>，将tensor张量放进variable中，开启自动求梯度的配置</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">variable = Variable(tensor,requires_grad=<span class="literal">True</span>) <span class="comment">#requires_grad = True</span></span><br></pre></td></tr></table></figure>
<p>那么，你以后含variable的运算就都和variable本身建立了某种联系，可以快速得到以后的结果相对variable的梯度</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">v_out = torch.mean(variable*variable)  <span class="comment">#例如求个平均数的运算</span></span><br><span class="line">v_out.backward()  <span class="comment">#求梯度</span></span><br></pre></td></tr></table></figure>
</li>
<li><p><code>variable</code>变量不同于<code>tensor</code>，但是<code>variable.data</code>可以得到tensor，如果想进行tensor和numpy_array的转换，那么就要<code>xx.data</code>先得到tensor</p>
</li>
<li><p><code>variable</code>的运算和<code>tensor</code>相似，但不完全相同</p>
</li>
</ul>
<h3 id="2-3-激励函数-AF–activation-function-？"><a href="#2-3-激励函数-AF–activation-function-？" class="headerlink" title="2.3 激励函数(AF–activation function)？"></a>2.3 激励函数(AF–activation function)？</h3><ul>
<li>&emsp;&emsp;激励函数广泛应用在各种层，各种用，可是为什么要激励函数呢？因为复杂问题中，输入输出往往都<strong>不是线性关系</strong>，不是线性，你就不能简单在他们中间乘个系数。<br>&emsp;&emsp;进阶的操作就是，在输入做完简单线性处理（乘k）的结果代入一个非线性函数</li>
</ul>
<ul>
<li>&emsp;&emsp;常用的非线性激活函数由<code>relu</code>、<code>sigmoid</code>、<code>tanh</code>方程，甚至可以自己创造激励函数来求解，不过要注意，这些激励函数必须都是<strong>可以微分的</strong>，因为需要求梯度求导</li>
</ul>
<ul>
<li>&emsp;&emsp;当隐藏层不多时，可以尝试任意一个激励函数；不过当隐藏层中含有非常多个<code>layer</code>，就有慎重选择，可能出现<em>梯度爆炸</em>、<em>梯度消失</em>（我也不太懂，再学学）。其次，具体案例中，少量隐藏层可以有多种选择，<strong>卷积神经网络</strong>首选<code>relu</code>，<strong>循环神经网络</strong>首选<code>relu</code>、<code>tanh</code></li>
</ul>
<h4 id="如何应用activation-function"><a href="#如何应用activation-function" class="headerlink" title="如何应用activation function"></a><strong>如何应用activation function</strong></h4><ul>
<li>理解代码然后实验即可<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> torch</span><br><span class="line"><span class="keyword">import</span> torch.nn.functional <span class="keyword">as</span> F</span><br><span class="line"><span class="keyword">from</span> torch.autograd <span class="keyword">import</span> Variable</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># fake data</span></span><br><span class="line"></span><br><span class="line">x = torch.linspace(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">200</span>)  <span class="comment"># x data (tensor), shape=(100, 1)</span></span><br><span class="line">x = Variable(x)</span><br><span class="line">x_np = x.data.numpy()   <span class="comment"># numpy array for plotting</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># following are popular activation functions</span></span><br><span class="line"></span><br><span class="line">y_relu = torch.relu(x).data.numpy()</span><br><span class="line">y_sigmoid = torch.sigmoid(x).data.numpy()</span><br><span class="line">y_tanh = torch.tanh(x).data.numpy()</span><br><span class="line">y_softplus = F.softplus(x).data.numpy() <span class="comment"># there's no softplus in torch</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="3-1-构建网络：回归"><a href="#3-1-构建网络：回归" class="headerlink" title="3.1 构建网络：回归"></a>3.1 构建网络：回归</h3><ul>
<li><p>利用<code>Pytorch</code>建立一个简单的神经网络</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Net</span><span class="params">(torch.nn.Module)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, xxx, xxx, xxx, ...)</span>:</span></span><br><span class="line">        super(Net, self).__init__()</span><br><span class="line">        <span class="comment"># xxxxxxxx</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">forward</span><span class="params">(self, x)</span>:</span></span><br><span class="line">        <span class="comment"># xxxxxxxx</span></span><br><span class="line">        <span class="keyword">return</span> x</span><br></pre></td></tr></table></figure></li>
<li><p>定义一个实际的神经网络</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net = Net(xxx=<span class="number">1</span>, xxx=<span class="number">10</span>, xxx=<span class="number">1</span>, ...)</span><br></pre></td></tr></table></figure>
</li>
<li><p>定义优化器<code>optimizer</code>和损失函数<code>loss function</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">optimizer = torch.optim.SGD(net.parameters(), lr=<span class="number">0.2</span>)  <span class="comment">#net.parameters()：包含了神经网络的所有参数  lr：学习率（步长）</span></span><br><span class="line">loss_func = torch.nn.MSELoss()  <span class="comment"># this is for regression mean squared loss</span></span><br></pre></td></tr></table></figure></li>
<li><p>那么在训练的时候</p>
<ul>
<li>首先定义网络的输出位置<code>prediction</code>，真正计算损失<code>loss</code></li>
<li>每次利用优化器清除掉网络中之前计算的梯度</li>
<li>然后开始运行反向传播算法</li>
<li>最后向正确方向迈出一步，用计算出的梯度再计算出新一轮的网络参数</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">prediction = net(x)     <span class="comment"># input x and predict based on x</span></span><br><span class="line">loss = loss_func(prediction, y)     <span class="comment"># must be (1. nn output, 2. target)</span></span><br><span class="line">optimizer.zero_grad()   <span class="comment"># clear gradients for next train</span></span><br><span class="line">loss.backward()         <span class="comment"># backpropagation, compute gradients</span></span><br><span class="line">optimizer.step()        <span class="comment"># apply gradients</span></span><br></pre></td></tr></table></figure>

<blockquote>
<p>当然本节是对于简单的回归问题，所以定义输出量的变量简单，损失计算也是简单的均方差算法</p>
</blockquote>
</li>
</ul>
<h3 id="3-2-构建网络：分类"><a href="#3-2-构建网络：分类" class="headerlink" title="3.2 构建网络：分类"></a>3.2 构建网络：分类</h3><ul>
<li>与简单的回归神经网络不同的是，分类神经网络的输入量和输出量都不只有一个</li>
<li>输入量可以是一组坐标，甚至可以是一张图片的一个三维张量，而输出则可以是一个输入张量对所有类别的概率判断</li>
<li>分类的损失函数选择和回归是不一样的，教程中选择了<code>loss_func = torch.nn.CrossEntropyLoss()</code></li>
<li>当然，对于我要解决的字符识别问题而言，输入就要复杂得多，远不是一对坐标那么简单，输出的类别也会有很多，所以更透彻的学习将在第二阶段进行</li>
</ul>
</font>
        </div>
        
        
        
    </div>
</div>








</div>
                




<div class="column is-4-tablet is-4-desktop is-3-widescreen  has-order-1 column-left ">
    
        
<div class="card widget">
    <div class="card-content">
        <nav class="level">
            <div class="level-item has-text-centered" style="flex-shrink: 1">
                <div>
                    
                    <figure class="image is-128x128 has-mb-6">
                        <img class="is-rounded" src="/images/2.jpeg" alt="张砚驰">
                    </figure>
                    
                    <p class="is-size-4 is-block">
                        张砚驰
                    </p>
                    
                    
                    <p class="is-size-6 is-block">
                        电子测控专业
                    </p>
                    
                    
                    <p class="is-size-6 is-flex is-flex-center has-text-grey">
                        <i class="fas fa-map-marker-alt has-mr-7"></i>
                        <span>湖北 武汉</span>
                    </p>
                    
                </div>
            </div>
        </nav>
        <nav class="level is-mobile">
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Posts
                    </p>
                    <a href="/archives">
                        <p class="title has-text-weight-normal">
                            26
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Categories
                    </p>
                    <a href="/categories">
                        <p class="title has-text-weight-normal">
                            7
                        </p>
                    </a>
                </div>
            </div>
            <div class="level-item has-text-centered is-marginless">
                <div>
                    <p class="heading">
                        Tags
                    </p>
                    <a href="/tags">
                        <p class="title has-text-weight-normal">
                            17
                        </p>
                    </a>
                </div>
            </div>
        </nav>
        
        <div class="level">
            <a class="level-item button is-link is-rounded" href="https://github.com/hit-zyc" target="_blank" rel="noopener">
                Follow</a>
        </div>
        
        
        
        <div class="level is-mobile">
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="Github" href="https://github.com/hit-zyc">
                
                <i class="fab fa-github"></i>
                
            </a>
            
            <a class="level-item button is-white is-marginless" target="_blank" rel="noopener"
                title="RSS" href="/">
                
                <i class="fas fa-rss"></i>
                
            </a>
            
        </div>
        
    </div>
</div>
    
        
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Links
        </h3>
        <ul class="menu-list">
        
            <li>
                <a class="level is-mobile" href="https://hexo.io" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Hexo</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">hexo.io</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://github.com/hit-zyc" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">My Github</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">github.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.collinsdictionary.com/zh/" target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Colins</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.collinsdictionary.com</span>
                    </span>
                </a>
            </li>
        
            <li>
                <a class="level is-mobile" href="https://www.ieltscat.com/ " target="_blank" rel="noopener">
                    <span class="level-left">
                        <span class="level-item">Ieltscat</span>
                    </span>
                    <span class="level-right">
                        <span class="level-item tag">www.ieltscat.com</span>
                    </span>
                </a>
            </li>
        
        </ul>
        </div>
    </div>
</div>

    
        
<div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Categories
            </h3>
            <ul class="menu-list">
            <li>
        <a class="level is-marginless" href="/categories/Ielts/">
            <span class="level-start">
                <span class="level-item">Ielts</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">5</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Image-Processing/">
            <span class="level-start">
                <span class="level-item">Image Processing</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">10</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Magnetic-field-specialty/">
            <span class="level-start">
                <span class="level-item">Magnetic field specialty</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/Python/">
            <span class="level-start">
                <span class="level-item">Python</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ROBOCON2020/">
            <span class="level-start">
                <span class="level-item">ROBOCON2020</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">3</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/ZYC/">
            <span class="level-start">
                <span class="level-item">ZYC</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">1</span>
            </span>
        </a></li><li>
        <a class="level is-marginless" href="/categories/hexo/">
            <span class="level-start">
                <span class="level-item">hexo</span>
            </span>
            <span class="level-end">
                <span class="level-item tag">2</span>
            </span>
        </a></li>
            </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Tag Cloud
        </h3>
        <a href="/tags/CNN/" style="font-size: 10px;">CNN</a> <a href="/tags/DT35/" style="font-size: 10px;">DT35</a> <a href="/tags/NNS/" style="font-size: 11.67px;">NNS</a> <a href="/tags/PIL/" style="font-size: 10px;">PIL</a> <a href="/tags/ROBOCON2020/" style="font-size: 13.33px;">ROBOCON2020</a> <a href="/tags/adams/" style="font-size: 10px;">adams</a> <a href="/tags/hexo/" style="font-size: 11.67px;">hexo</a> <a href="/tags/ielts/" style="font-size: 16.67px;">ielts</a> <a href="/tags/jupyter/" style="font-size: 10px;">jupyter</a> <a href="/tags/markdown/" style="font-size: 10px;">markdown</a> <a href="/tags/maxwell/" style="font-size: 10px;">maxwell</a> <a href="/tags/opencv/" style="font-size: 15px;">opencv</a> <a href="/tags/python/" style="font-size: 20px;">python</a> <a href="/tags/pytorch/" style="font-size: 15px;">pytorch</a> <a href="/tags/record/" style="font-size: 18.33px;">record</a> <a href="/tags/zyc/" style="font-size: 10px;">zyc</a> <a href="/tags/%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/" style="font-size: 10px;">定位算法</a>
    </div>
</div>
    
    
        <div class="column-right-shadow is-hidden-widescreen ">
        
            <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-13T04:05:00.000Z">2020-04-13</time></div>
                    <a href="/2020/04/13/ielts-5/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Ielts小班课学习-5</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Ielts/">Ielts</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-13T01:08:55.000Z">2020-04-13</time></div>
                    <a href="/2020/04/13/%E6%A0%87%E5%AE%9A%E8%AE%B0%E5%BD%95/" class="title has-link-black-ter is-size-6 has-text-weight-normal">标定记录</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ROBOCON2020/">ROBOCON2020</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-09T15:29:59.000Z">2020-04-09</time></div>
                    <a href="/2020/04/09/pytorch%E6%B7%B1%E5%85%A5%E6%8E%A2%E7%B4%A2%E7%BB%AD%E7%AF%87/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch深入探索续篇</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-08T11:06:49.000Z">2020-04-08</time></div>
                    <a href="/2020/04/08/pytorch%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch深入了解</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-07T05:46:09.000Z">2020-04-07</time></div>
                    <a href="/2020/04/07/pytorch%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch使用说明</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">April 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
        
            <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CNN/">
                        <span class="tag">CNN</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DT35/">
                        <span class="tag">DT35</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NNS/">
                        <span class="tag">NNS</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PIL/">
                        <span class="tag">PIL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ROBOCON2020/">
                        <span class="tag">ROBOCON2020</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/adams/">
                        <span class="tag">adams</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ielts/">
                        <span class="tag">ielts</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jupyter/">
                        <span class="tag">jupyter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/maxwell/">
                        <span class="tag">maxwell</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/opencv/">
                        <span class="tag">opencv</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">12</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pytorch/">
                        <span class="tag">pytorch</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/record/">
                        <span class="tag">record</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/zyc/">
                        <span class="tag">zyc</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/">
                        <span class="tag">定位算法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
        
        </div>
    
</div>

                




<div class="column is-4-tablet is-4-desktop is-3-widescreen is-hidden-touch is-hidden-desktop-only has-order-3 column-right ">
    
        <div class="card widget">
    <div class="card-content">
        <h3 class="menu-label">
            Recent
        </h3>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-13T04:05:00.000Z">2020-04-13</time></div>
                    <a href="/2020/04/13/ielts-5/" class="title has-link-black-ter is-size-6 has-text-weight-normal">Ielts小班课学习-5</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Ielts/">Ielts</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-13T01:08:55.000Z">2020-04-13</time></div>
                    <a href="/2020/04/13/%E6%A0%87%E5%AE%9A%E8%AE%B0%E5%BD%95/" class="title has-link-black-ter is-size-6 has-text-weight-normal">标定记录</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/ROBOCON2020/">ROBOCON2020</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-09T15:29:59.000Z">2020-04-09</time></div>
                    <a href="/2020/04/09/pytorch%E6%B7%B1%E5%85%A5%E6%8E%A2%E7%B4%A2%E7%BB%AD%E7%AF%87/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch深入探索续篇</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-08T11:06:49.000Z">2020-04-08</time></div>
                    <a href="/2020/04/08/pytorch%E6%B7%B1%E5%85%A5%E4%BA%86%E8%A7%A3/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch深入了解</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
        <article class="media">
            
            <div class="media-content">
                <div class="content">
                    <div><time class="has-text-grey is-size-7 is-uppercase" datetime="2020-04-07T05:46:09.000Z">2020-04-07</time></div>
                    <a href="/2020/04/07/pytorch%E4%BD%BF%E7%94%A8%E8%AF%B4%E6%98%8E/" class="title has-link-black-ter is-size-6 has-text-weight-normal">pytorch使用说明</a>
                    <p class="is-size-7 is-uppercase">
                        <a class="has-link-grey -link" href="/categories/Image-Processing/">Image Processing</a>
                    </p>
                </div>
            </div>
        </article>
        
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
        <h3 class="menu-label">
            Archives
        </h3>
        <ul class="menu-list">
        
        <li>
            <a class="level is-marginless" href="/archives/2020/04/">
                <span class="level-start">
                    <span class="level-item">April 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">8</span>
                </span>
            </a>
        </li>
        
        <li>
            <a class="level is-marginless" href="/archives/2020/03/">
                <span class="level-start">
                    <span class="level-item">March 2020</span>
                </span>
                <span class="level-end">
                    <span class="level-item tag">18</span>
                </span>
            </a>
        </li>
        
        </ul>
        </div>
    </div>
</div>
    
        <div class="card widget">
    <div class="card-content">
        <div class="menu">
            <h3 class="menu-label">
                Tags
            </h3>
            <div class="field is-grouped is-grouped-multiline">
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/CNN/">
                        <span class="tag">CNN</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/DT35/">
                        <span class="tag">DT35</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/NNS/">
                        <span class="tag">NNS</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/PIL/">
                        <span class="tag">PIL</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ROBOCON2020/">
                        <span class="tag">ROBOCON2020</span>
                        <span class="tag is-grey">3</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/adams/">
                        <span class="tag">adams</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/hexo/">
                        <span class="tag">hexo</span>
                        <span class="tag is-grey">2</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/ielts/">
                        <span class="tag">ielts</span>
                        <span class="tag is-grey">5</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/jupyter/">
                        <span class="tag">jupyter</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/markdown/">
                        <span class="tag">markdown</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/maxwell/">
                        <span class="tag">maxwell</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/opencv/">
                        <span class="tag">opencv</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/python/">
                        <span class="tag">python</span>
                        <span class="tag is-grey">12</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/pytorch/">
                        <span class="tag">pytorch</span>
                        <span class="tag is-grey">4</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/record/">
                        <span class="tag">record</span>
                        <span class="tag is-grey">11</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/zyc/">
                        <span class="tag">zyc</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
                <div class="control">
                    <a class="tags has-addons" href="/tags/%E5%AE%9A%E4%BD%8D%E7%AE%97%E6%B3%95/">
                        <span class="tag">定位算法</span>
                        <span class="tag is-grey">1</span>
                    </a>
                </div>
                
            </div>
        </div>
    </div>
</div>
    
    
</div>

            </div>
        </div>
    </section>
    <footer class="footer">
    <div class="container">
        <div class="level">
            <div class="level-start has-text-centered-mobile">
                <a class="footer-logo is-block has-mb-6" href="/">
                
                    <img src="/images/logo.svg" alt="Wdnmd" height="28">
                
                </a>
                <p class="is-size-7">
                &copy; 2020 张砚驰&nbsp;
                Powered by <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a> & <a
                        href="https://github.com/ppoffice/hexo-theme-icarus" target="_blank" rel="noopener">Icarus</a>
                
                <br>
                <span id="busuanzi_container_site_uv">
                Visited by <span id="busuanzi_value_site_uv">0</span> users
                </span>
                
                </p>
            </div>
            <div class="level-end">
            
                <div class="field has-addons is-flex-center-mobile has-mt-5-mobile is-flex-wrap is-flex-middle">
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Creative Commons" href="https://creativecommons.org/">
                        
                        <i class="fab fa-creative-commons"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Attribution 4.0 International" href="https://creativecommons.org/licenses/by/4.0/">
                        
                        <i class="fab fa-creative-commons-by"></i>
                        
                    </a>
                </p>
                
                <p class="control">
                    <a class="button is-white is-large" target="_blank" rel="noopener" title="Download on GitHub" href="https://github.com/ppoffice/hexo-theme-icarus">
                        
                        <i class="fab fa-github"></i>
                        
                    </a>
                </p>
                
                </div>
            
            </div>
        </div>
    </div>
</footer>
    <script src="https://cdn.jsdelivr.net/npm/jquery@3.3.1/dist/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/moment@2.22.2/min/moment-with-locales.min.js"></script>
<script>moment.locale("en");</script>


<script>
var IcarusThemeSettings = {
    site: {
        url: 'https://hit-zyc.github.io',
        external_link: {"enable":true,"exclude":[]}
    },
    article: {
        highlight: {
            clipboard: true,
            fold: 'unfolded'
        }
    }
};
</script>


<script src="https://cdn.jsdelivr.net/npm/clipboard@2.0.4/dist/clipboard.min.js" defer></script>





<script src="/js/animation.js"></script>



<script src="https://cdn.jsdelivr.net/npm/lightgallery@1.6.8/dist/js/lightgallery.min.js" defer></script>
<script src="https://cdn.jsdelivr.net/npm/justifiedGallery@3.7.0/dist/js/jquery.justifiedGallery.min.js" defer></script>
<script src="/js/gallery.js" defer></script>



<div id="outdated">
    <h6>Your browser is out-of-date!</h6>
    <p>Update your browser to view this website correctly. <a id="btnUpdateBrowser" href="http://outdatedbrowser.com/">Update
            my browser now </a></p>
    <p class="last"><a href="#" id="btnCloseUpdateBrowser" title="Close">&times;</a></p>
</div>
<script src="https://cdn.jsdelivr.net/npm/outdatedbrowser@1.1.5/outdatedbrowser/outdatedbrowser.min.js" defer></script>
<script>
    document.addEventListener("DOMContentLoaded", function () {
        outdatedBrowser({
            bgColor: '#f25648',
            color: '#ffffff',
            lowerThan: 'flex'
        });
    });
</script>


<script src="https://cdn.jsdelivr.net/npm/mathjax@2.7.5/unpacked/MathJax.js?config=TeX-MML-AM_CHTML" defer></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
    MathJax.Hub.Config({
        'HTML-CSS': {
            matchFontHeight: false
        },
        SVG: {
            matchFontHeight: false
        },
        CommonHTML: {
            matchFontHeight: false
        },
        tex2jax: {
            inlineMath: [
                ['$','$'],
                ['\\(','\\)']
            ]
        }
    });
});
</script>


<a id="back-to-top" title="Back to Top" href="javascript:;">
    <i class="fas fa-chevron-up"></i>
</a>
<script src="/js/back-to-top.js" defer></script>














<script src="/js/main.js" defer></script>

    
    <div class="searchbox ins-search">
    <div class="searchbox-container ins-search-container">
        <div class="searchbox-input-wrapper">
            <input type="text" class="searchbox-input ins-search-input" placeholder="Type something..." />
            <span class="searchbox-close ins-close ins-selectable"><i class="fa fa-times-circle"></i></span>
        </div>
        <div class="searchbox-result-wrapper ins-section-wrapper">
            <div class="ins-section-container"></div>
        </div>
    </div>
</div>
<script>
    (function (window) {
        var INSIGHT_CONFIG = {
            TRANSLATION: {
                POSTS: 'Posts',
                PAGES: 'Pages',
                CATEGORIES: 'Categories',
                TAGS: 'Tags',
                UNTITLED: '(Untitled)',
            },
            CONTENT_URL: '/content.json',
        };
        window.INSIGHT_CONFIG = INSIGHT_CONFIG;
    })(window);
</script>
<script src="/js/insight.js" defer></script>
<link rel="stylesheet" href="/css/search.css">
<link rel="stylesheet" href="/css/insight.css">
    
</body>
</html>